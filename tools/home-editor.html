<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Page Editor - Neeraj Portfolio</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #1a1a2e;
      color: #eee;
      min-height: 100vh;
    }
    .toolbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: #16213e;
      padding: 12px 20px;
      display: flex;
      gap: 12px;
      align-items: center;
      z-index: 1000;
      border-bottom: 2px solid #0f3460;
    }
    .toolbar h1 {
      font-size: 1.2rem;
      color: #e94560;
      margin-right: auto;
    }
    .toolbar button {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
    }
    .btn-primary { background: #e94560; color: white; }
    .btn-secondary { background: #0f3460; color: #eee; }
    .btn-success { background: #00b894; color: white; }
    .main-container {
      display: flex;
      margin-top: 60px;
      height: calc(100vh - 60px);
    }
    .editor-panel {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }
    .sidebar {
      width: 380px;
      background: #16213e;
      padding: 20px;
      overflow-y: auto;
      border-left: 2px solid #0f3460;
    }
    .sidebar h2 {
      font-size: 1rem;
      color: #e94560;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid #0f3460;
    }
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 4px;
    }
    .form-group input, .form-group textarea, .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid #0f3460;
      border-radius: 6px;
      background: #1a1a2e;
      color: #eee;
      font-size: 0.9rem;
    }
    .form-group textarea {
      min-height: 80px;
      resize: vertical;
    }
    .preview-section {
      background: #f8f9fa;
      border-radius: 12px;
      margin-bottom: 20px;
      overflow: hidden;
    }
    .section-header {
      background: #e9ecef;
      padding: 10px 15px;
      font-weight: 600;
      color: #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .section-content {
      padding: 20px;
      color: #333;
    }
    .hero-preview {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    .hero-name {
      font-size: 3rem;
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    .hero-rotating {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-top: 10px;
    }
    .avatar-preview {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background: #ddd;
      background-size: cover;
      background-position: center;
      border: 4px solid white;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    .tag-input {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      padding: 8px;
      background: #1a1a2e;
      border: 1px solid #0f3460;
      border-radius: 6px;
      min-height: 44px;
    }
    .tag {
      background: #e94560;
      color: white;
      padding: 4px 10px;
      border-radius: 15px;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .tag button {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      line-height: 1;
    }
    .tag-input input {
      border: none;
      background: none;
      color: #eee;
      flex: 1;
      min-width: 100px;
      padding: 4px;
    }
    .shots-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
    }
    .shot-item {
      aspect-ratio: 1;
      background: #ddd;
      border-radius: 8px;
      background-size: cover;
      background-position: center;
      position: relative;
      cursor: pointer;
    }
    .shot-item:hover .shot-delete {
      opacity: 1;
    }
    .shot-delete {
      position: absolute;
      top: 5px;
      right: 5px;
      background: #e94560;
      border: none;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .add-shot {
      aspect-ratio: 1;
      border: 2px dashed #aaa;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #666;
      font-size: 2rem;
    }
    .export-preview {
      background: #0d1117;
      border-radius: 8px;
      padding: 15px;
      font-family: monospace;
      font-size: 0.75rem;
      white-space: pre-wrap;
      color: #58a6ff;
      max-height: 200px;
      overflow: auto;
    }
    .modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    .modal {
      background: #16213e;
      border-radius: 12px;
      padding: 24px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }
    .modal h2 { margin-bottom: 20px; color: #e94560; }
    .modal-actions {
      display: flex;
      gap: 10px;
      margin-top: 20px;
      justify-content: flex-end;
    }
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #00b894;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      z-index: 3000;
    }
  </style>
</head>
<body>
  <div class="toolbar">
    <h1>üè† Home Page Editor</h1>
    <button class="btn-secondary" onclick="loadFromFile()">üìÇ Import JSON</button>
    <button class="btn-primary" onclick="exportConfig()">üì§ Export Config</button>
    <button class="btn-success" onclick="copyToClipboard()">üìã Copy JSON</button>
  </div>

  <div class="main-container">
    <div class="editor-panel">
      <!-- Hero Section Preview -->
      <div class="preview-section">
        <div class="section-header">
          <span>ü¶∏ Hero Section</span>
        </div>
        <div class="hero-preview" id="heroPreview">
          <div>
            <div class="hero-name" id="previewName">Neeraj Parekh</div>
            <div class="hero-rotating" id="previewRotating">Tech Explorer</div>
          </div>
          <div class="avatar-preview" id="previewAvatar"></div>
        </div>
      </div>

      <!-- About Section Preview -->
      <div class="preview-section">
        <div class="section-header">
          <span>üë§ About Section</span>
        </div>
        <div class="section-content">
          <p id="previewBio" style="line-height: 1.6;"></p>
          <div style="margin-top: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <p><strong>Location:</strong> <span id="previewLocation"></span></p>
            <p><strong>Email:</strong> <span id="previewEmail"></span></p>
            <p><strong>Profession:</strong> <span id="previewProfession"></span></p>
          </div>
        </div>
      </div>

      <!-- My Clicks Preview -->
      <div class="preview-section">
        <div class="section-header">
          <span>üì∏ My Clicks (Photo Gallery)</span>
        </div>
        <div class="section-content">
          <div class="shots-grid" id="shotsGrid"></div>
        </div>
      </div>
    </div>

    <div class="sidebar">
      <h2>Personal Information</h2>
      
      <div class="form-group">
        <label>Full Name</label>
        <input type="text" id="inputName" value="Neeraj Parekh" oninput="updatePreview()">
      </div>

      <div class="form-group">
        <label>Slogan / Tagline</label>
        <input type="text" id="inputSlogan" value="ENTC engineer" oninput="updatePreview()">
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" id="inputEmail" value="neerajparekh118@gmail.com" oninput="updatePreview()">
      </div>

      <div class="form-group">
        <label>Location</label>
        <input type="text" id="inputLocation" value="Pune, Maharashtra" oninput="updatePreview()">
      </div>

      <div class="form-group">
        <label>Profession</label>
        <input type="text" id="inputProfession" value="Junior Software Developer" oninput="updatePreview()">
      </div>

      <div class="form-group">
        <label>Profile Image Path</label>
        <input type="text" id="inputImage" value="/assets/images/cropped_me.JPG" oninput="updatePreview()">
      </div>

      <div class="form-group">
        <label>Rotating Texts (press Enter to add)</label>
        <div class="tag-input" id="rotatingTextsInput">
          <input type="text" id="newRotatingText" placeholder="Add text..." onkeypress="handleTagKeypress(event)">
        </div>
      </div>

      <h2 style="margin-top: 25px;">Bio & Details</h2>

      <div class="form-group">
        <label>Bio</label>
        <textarea id="inputBio" oninput="updatePreview()"></textarea>
      </div>

      <div class="form-group">
        <label>Values</label>
        <textarea id="inputValues" oninput="updatePreview()"></textarea>
      </div>

      <div class="form-group">
        <label>Hobbies</label>
        <textarea id="inputHobbies" oninput="updatePreview()"></textarea>
      </div>

      <div class="form-group">
        <label>Dream Job</label>
        <textarea id="inputDreamJob" oninput="updatePreview()"></textarea>
      </div>

      <div class="form-group">
        <label>Accomplishments</label>
        <textarea id="inputAccomplishments" oninput="updatePreview()"></textarea>
      </div>

      <div class="form-group">
        <label>Education</label>
        <textarea id="inputEducation" oninput="updatePreview()"></textarea>
      </div>

      <div class="form-group">
        <label>History</label>
        <textarea id="inputHistory" oninput="updatePreview()"></textarea>
      </div>

      <h2 style="margin-top: 25px;">Photo Gallery (shots.json)</h2>
      <div class="form-group">
        <label>Add Photo Path</label>
        <input type="text" id="newShotPath" placeholder="/assets/shots/photo.jpg">
        <button class="btn-primary" style="margin-top: 8px; width: 100%;" onclick="addShot()">+ Add Photo</button>
      </div>
    </div>
  </div>

  <!-- Export Modal -->
  <div class="modal-overlay" id="exportModal" style="display: none;">
    <div class="modal">
      <h2>Export Configuration</h2>
      <p style="margin-bottom: 10px; color: #aaa;">personal.json:</p>
      <div class="export-preview" id="exportPersonal"></div>
      <p style="margin: 15px 0 10px; color: #aaa;">shots.json:</p>
      <div class="export-preview" id="exportShots"></div>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeModal()">Close</button>
        <button class="btn-success" onclick="downloadAll()">üíæ Download All</button>
      </div>
    </div>
  </div>

  <input type="file" id="fileInput" accept=".json" style="display: none;" onchange="handleFileImport(event)">

  <script>
    let personalData = {
      name: "Neeraj Parekh",
      slogan: "ENTC engineer",
      email: "neerajparekh118@gmail.com",
      location: "Pune, Maharashtra",
      profession: "Junior Software Developer",
      rotatingTexts: ["Tech Explorer", "IoT Hobbyist", "Aspiring Engineer"],
      profileImage: "/assets/images/cropped_me.JPG",
      bio: "I am an aspiring Electronics and Telecommunication Engineer from Pune.",
      values: "Integrity, discipline, teamwork, continuous learning.",
      hobbies: "Aeromodelling, IoT projects, exploring new technologies.",
      dreamJob: "Work in IoT and telecommunications.",
      accomplishments: "SAEINDIA DDC 2025, college workshop management system.",
      education: "Bachelor of Engineering (ENTC), MITAOE, Pune.",
      history: "Started as an engineering student, developed skills in coding and electronics."
    };

    let shotsData = ["1.jpg", "2.jpg", "3.jpg", "l1.jpg", "r1.jpg"];

    function updatePreview() {
      personalData.name = document.getElementById('inputName').value;
      personalData.slogan = document.getElementById('inputSlogan').value;
      personalData.email = document.getElementById('inputEmail').value;
      personalData.location = document.getElementById('inputLocation').value;
      personalData.profession = document.getElementById('inputProfession').value;
      personalData.profileImage = document.getElementById('inputImage').value;
      personalData.bio = document.getElementById('inputBio').value;
      personalData.values = document.getElementById('inputValues').value;
      personalData.hobbies = document.getElementById('inputHobbies').value;
      personalData.dreamJob = document.getElementById('inputDreamJob').value;
      personalData.accomplishments = document.getElementById('inputAccomplishments').value;
      personalData.education = document.getElementById('inputEducation').value;
      personalData.history = document.getElementById('inputHistory').value;

      // Update preview
      document.getElementById('previewName').textContent = personalData.name;
      document.getElementById('previewRotating').textContent = personalData.rotatingTexts[0] || '';
      document.getElementById('previewAvatar').style.backgroundImage = `url(${personalData.profileImage})`;
      document.getElementById('previewBio').textContent = personalData.bio;
      document.getElementById('previewLocation').textContent = personalData.location;
      document.getElementById('previewEmail').textContent = personalData.email;
      document.getElementById('previewProfession').textContent = personalData.profession;
    }

    function renderRotatingTexts() {
      const container = document.getElementById('rotatingTextsInput');
      container.innerHTML = '';
      
      personalData.rotatingTexts.forEach((text, i) => {
        const tag = document.createElement('div');
        tag.className = 'tag';
        tag.innerHTML = `${text} <button onclick="removeRotatingText(${i})">√ó</button>`;
        container.appendChild(tag);
      });

      const input = document.createElement('input');
      input.type = 'text';
      input.id = 'newRotatingText';
      input.placeholder = 'Add text...';
      input.onkeypress = handleTagKeypress;
      container.appendChild(input);
    }

    function handleTagKeypress(e) {
      if (e.key === 'Enter' && e.target.value.trim()) {
        personalData.rotatingTexts.push(e.target.value.trim());
        renderRotatingTexts();
        updatePreview();
      }
    }

    function removeRotatingText(index) {
      personalData.rotatingTexts.splice(index, 1);
      renderRotatingTexts();
      updatePreview();
    }

    function renderShots() {
      const grid = document.getElementById('shotsGrid');
      grid.innerHTML = '';
      
      shotsData.forEach((shot, i) => {
        const item = document.createElement('div');
        item.className = 'shot-item';
        item.style.backgroundImage = `url(/assets/shots/${shot})`;
        item.innerHTML = `<button class="shot-delete" onclick="removeShot(${i})">√ó</button>`;
        grid.appendChild(item);
      });

      const addBtn = document.createElement('div');
      addBtn.className = 'add-shot';
      addBtn.textContent = '+';
      addBtn.onclick = () => document.getElementById('newShotPath').focus();
      grid.appendChild(addBtn);
    }

    function addShot() {
      const path = document.getElementById('newShotPath').value.trim();
      if (path) {
        const filename = path.split('/').pop();
        shotsData.push(filename);
        document.getElementById('newShotPath').value = '';
        renderShots();
      }
    }

    function removeShot(index) {
      shotsData.splice(index, 1);
      renderShots();
    }

    function exportConfig() {
      document.getElementById('exportPersonal').textContent = JSON.stringify(personalData, null, 2);
      document.getElementById('exportShots').textContent = JSON.stringify(shotsData, null, 2);
      document.getElementById('exportModal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('exportModal').style.display = 'none';
    }

    function copyToClipboard() {
      const data = { personal: personalData, shots: shotsData };
      navigator.clipboard.writeText(JSON.stringify(data, null, 2));
      showToast('Copied to clipboard!');
    }

    function downloadAll() {
      // Download personal.json
      downloadJSON(personalData, 'personal.json');
      setTimeout(() => downloadJSON(shotsData, 'shots.json'), 500);
    }

    function downloadJSON(data, filename) {
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }

    function loadFromFile() {
      document.getElementById('fileInput').click();
    }

    function handleFileImport(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const data = JSON.parse(e.target.result);
          if (Array.isArray(data)) {
            shotsData = data;
            renderShots();
          } else {
            personalData = { ...personalData, ...data };
            populateForm();
            updatePreview();
          }
          showToast('Imported successfully!');
        } catch (err) {
          alert('Invalid JSON file');
        }
      };
      reader.readAsText(file);
    }

    function populateForm() {
      document.getElementById('inputName').value = personalData.name || '';
      document.getElementById('inputSlogan').value = personalData.slogan || '';
      document.getElementById('inputEmail').value = personalData.email || '';
      document.getElementById('inputLocation').value = personalData.location || '';
      document.getElementById('inputProfession').value = personalData.profession || '';
      document.getElementById('inputImage').value = personalData.profileImage || '';
      document.getElementById('inputBio').value = personalData.bio || '';
      document.getElementById('inputValues').value = personalData.values || '';
      document.getElementById('inputHobbies').value = personalData.hobbies || '';
      document.getElementById('inputDreamJob').value = personalData.dreamJob || '';
      document.getElementById('inputAccomplishments').value = personalData.accomplishments || '';
      document.getElementById('inputEducation').value = personalData.education || '';
      document.getElementById('inputHistory').value = personalData.history || '';
      renderRotatingTexts();
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);
    }

    // Initialize
    populateForm();
    renderRotatingTexts();
    renderShots();
    updatePreview();
  </script>
</body>
</html>
